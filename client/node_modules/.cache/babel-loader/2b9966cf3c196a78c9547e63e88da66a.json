{"ast":null,"code":"import _objectSpread from\"/home/artur97/Diplomayin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/artur97/Diplomayin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/artur97/Diplomayin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/artur97/Diplomayin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/artur97/Diplomayin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{BrowserRouter,Route,Switch}from'react-router-dom';import Register from'./views/pages/register/Register';import Home from'./views/pages/home/Home';import Page404 from'./views/pages/page404/Page404';import Login from'./views/pages/login/Login';import TheLayout from'./containers/TheLayout';import{getUser,postUser,resetUserName,resetUserPassword,resetUserSurname}from'./api';import'./scss/style.scss';import Setting from\"./views/users/Setting\";import HelloWorld from\"./views/pages/HelloWorld\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={register:{name:'',surname:'',email:'',password:''},statusUpdate:false,user:{},loginResult:{},responseRegister:{}};_this.createUser=function(){postUser(_this.state.register).then(function(res){return res.json();}).then(function(r){_this.setState({responseRegister:r});localStorage.setItem('status',JSON.stringify(r.status));}).catch(function(err){_this.setState({responseRegister:err});});};_this.loginUser=function(data){getUser(data).then(function(res){return res.json();}).then(function(r){_this.setState({loginResult:r});if(r.token){localStorage.setItem('token',JSON.stringify(r.token));localStorage.setItem('id',JSON.stringify(r.user.id));_this.setState({user:r});}else{localStorage.removeItem('token');}}).catch(function(err){_this.setState({loginResult:err});});};_this.changeUserData=function(user){if(user.name){resetUserName(user).then(function(res){return res.json();}).then(function(r){_this.setState({user:r});_this.setState({statusUpdate:true});}).catch(function(){_this.setState({statusUpdate:false});});}else if(user.surname){resetUserSurname(user).then(function(res){return res.json();}).then(function(r){_this.setState({user:r});_this.setState({statusUpdate:true});}).catch(function(){_this.setState({statusUpdate:false});});}else if(user.password){resetUserPassword(user).then(function(res){return res.json();}).then(function(r){_this.setState({user:r});_this.setState({statusUpdate:true});}).catch(function(){_this.setState({statusUpdate:false});});}};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",name:\"Login Page\",render:function render(props){return/*#__PURE__*/_jsx(Login,_objectSpread(_objectSpread({},props),{},{loginUser:_this2.loginUser,state:_this2.state}));}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/register\",name:\"Register Page\",render:function render(props){return/*#__PURE__*/_jsx(Register,_objectSpread({state:_this2.state,createUser:_this2.createUser},props));}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",name:\"Home Page\",render:function render(props){return/*#__PURE__*/_jsx(Home,_objectSpread({state:_this2.state},props));}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/setting\",name:\"Setting Page\",render:function render(props){return/*#__PURE__*/_jsx(Setting,_objectSpread({state:_this2.state,changeUserData:_this2.changeUserData},props));}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/hello-world\",name:\"hello-world Page\",render:function render(props){return/*#__PURE__*/_jsx(HelloWorld,_objectSpread({state:_this2.state},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",name:\"Home\",render:function render(props){return/*#__PURE__*/_jsx(TheLayout,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{render:function render(){return/*#__PURE__*/_jsx(Page404,{state:_this2.state});}})]})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/artur97/Diplomayin/client/src/App.js"],"names":["React","Component","BrowserRouter","Route","Switch","Register","Home","Page404","Login","TheLayout","getUser","postUser","resetUserName","resetUserPassword","resetUserSurname","Setting","HelloWorld","App","state","register","name","surname","email","password","statusUpdate","user","loginResult","responseRegister","createUser","then","res","json","r","setState","localStorage","setItem","JSON","stringify","status","catch","err","loginUser","data","token","id","removeItem","changeUserData","props"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {BrowserRouter, Route, Switch} from 'react-router-dom';\nimport Register from './views/pages/register/Register';\nimport Home from './views/pages/home/Home';\nimport Page404 from './views/pages/page404/Page404';\nimport Login from './views/pages/login/Login';\nimport TheLayout from './containers/TheLayout';\nimport {getUser, postUser, resetUserName, resetUserPassword, resetUserSurname} from './api'\nimport './scss/style.scss';\nimport Setting from \"./views/users/Setting\";\nimport HelloWorld from \"./views/pages/HelloWorld\";\n\nclass App extends Component {\n  state = {\n    register: {\n      name: '',\n      surname: '',\n      email: '',\n      password: ''\n    },\n    statusUpdate: false,\n    user: {},\n    loginResult: {},\n    responseRegister: {}\n  }\n  createUser = () => {\n    postUser(this.state.register).then(res => res.json()).then(r => {\n      this.setState({responseRegister: r});\n      localStorage.setItem('status', JSON.stringify(r.status));\n    }).catch(err => {\n      this.setState({responseRegister: err});\n    });\n  }\n  loginUser = (data) => {\n    getUser(data).then(res => res.json()).then(r => {\n      this.setState({loginResult: r});\n      if (r.token) {\n        localStorage.setItem('token', JSON.stringify(r.token));\n        localStorage.setItem('id', JSON.stringify(r.user.id));\n        this.setState({user: r});\n      } else {\n        localStorage.removeItem('token');\n      }\n    }).catch(err => {\n      this.setState({loginResult: err});\n    });\n  }\n\n  changeUserData = (user) => {\n    if (user.name) {\n      resetUserName(user).then(res => res.json()).then(r => {\n        this.setState({user: r});\n        this.setState({statusUpdate: true})\n      })\n        .catch(() => {\n          this.setState({statusUpdate:false});\n        });\n    }else if (user.surname) {\n      resetUserSurname(user).then(res => res.json()).then(r => {\n        this.setState({user: r});\n        this.setState({statusUpdate: true})\n      })\n        .catch(() => {\n          this.setState({statusUpdate:false});\n        });\n    }\n    else if (user.password) {\n      resetUserPassword(user).then(res => res.json()).then(r => {\n        this.setState({user: r});\n        this.setState({statusUpdate: true})\n      })\n        .catch(() => {\n          this.setState({statusUpdate:false});\n        });\n    }\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/login\" name=\"Login Page\" render={props => <Login\n            {...props}\n            loginUser={this.loginUser}\n            state={this.state}\n          />}/>\n          <Route exact path=\"/register\" name='Register Page' render={props => <Register\n            state={this.state}\n            createUser={this.createUser}\n            {...props}\n          />}/>\n          <Route exact path=\"/\" name='Home Page' render={props => <Home\n            state={this.state}\n            {...props}\n          />}/>\n          <Route exact path=\"/setting\" name='Setting Page' render={props => <Setting\n            state={this.state}\n            changeUserData={this.changeUserData}\n            {...props}\n          />}/>\n          <Route exact path=\"/hello-world\" name='hello-world Page' render={props => <HelloWorld\n            state={this.state}\n            {...props}\n          />}/>\n\n\n          <Route path=\"/admin\" name=\"Home\" render={props => <TheLayout {...props}/>}/>\n          <Route render={() => <Page404 state={this.state}/>}/>\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}