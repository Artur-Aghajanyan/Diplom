{"ast":null,"code":"import _slicedToArray from\"/home/artur97/Diplomayin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'../pages/register/Register.css';import{CButton,CCard,CCardBody,CCollapse,CCardHeader,CAlert,CInputGroupPrepend,CInputGroupText,CInput,CInputGroup,CLabel,CForm}from'@coreui/react';import Header from\"./Header\";import CIcon from\"@coreui/icons-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Setting=function Setting(props){// const history = useHistory();\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),surname=_useState4[0],setSurname=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),nameValue=_useState8[0],setNameValue=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),surnameValue=_useState10[0],setSurnameValue=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),passwordValue=_useState12[0],setPasswordValue=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),repeat_password=_useState14[0],setRepeatPassword=_useState14[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{state:props.state}),/*#__PURE__*/_jsx(CAlert,{className:props.state.statusUpdate?'alert-success w-50 m-auto text-center':\"alert-danger w-50 m-auto text-center\",id:\"update_alert\",children:props.state.statusUpdate?\"Updated successful\":\"Can not update\"}),/*#__PURE__*/_jsxs(CCard,{children:[/*#__PURE__*/_jsx(CCardHeader,{className:\"h5\",children:/*#__PURE__*/_jsx(CButton,{color:\"btn btn-outline-info\",onClick:function onClick(e){e.preventDefault();setName(!name);},children:\"Reset name\"})}),/*#__PURE__*/_jsx(CCollapse,{show:name,children:/*#__PURE__*/_jsxs(CCardBody,{children:[/*#__PURE__*/_jsx(CLabel,{className:\"alert-danger\",id:\"alert_empty_name\",children:\"Can not be empty name\"}),/*#__PURE__*/_jsxs(CInputGroup,{className:\"mb-1\",children:[/*#__PURE__*/_jsx(CInputGroupPrepend,{children:/*#__PURE__*/_jsx(CInputGroupText,{children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-user\"})})}),/*#__PURE__*/_jsx(CInput,{type:\"text\",placeholder:\"Name\",name:\"name\",value:nameValue,autoComplete:\"name\",onChange:function onChange(e){if(e.target.value===''){setNameValue(\"\");document.getElementById('alert_empty_name').style.opacity='1';}else{setNameValue(e.target.value);document.getElementById('alert_empty_name').style.opacity='0';}}})]}),/*#__PURE__*/_jsx(CButton,{className:\"mr-1\",color:\"btn btn-outline-success\",alert:\"Save\",onClick:function onClick(){if(nameValue){props.changeUserData({name:nameValue,surname:\"\",password:\"\",id:JSON.parse(localStorage.getItem('id'))});setNameValue(\"\");}document.getElementById('update_alert').style.opacity='1';setTimeout(function(){document.getElementById('update_alert').style.opacity='0';},1500);},children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-check\"})}),/*#__PURE__*/_jsx(CButton,{color:\"btn btn-outline-danger\",children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-x\"})})]})}),/*#__PURE__*/_jsx(CCardHeader,{className:\"h5\",children:/*#__PURE__*/_jsx(CButton,{color:\"btn btn-outline-info\",onClick:function onClick(e){e.preventDefault();setSurname(!surname);},children:\"Reset surname\"})}),/*#__PURE__*/_jsx(CCollapse,{show:surname,children:/*#__PURE__*/_jsxs(CCardBody,{children:[/*#__PURE__*/_jsx(CLabel,{className:\"alert-danger\",id:\"alert_empty_surname\",children:\"Can not be empty surname\"}),/*#__PURE__*/_jsxs(CInputGroup,{className:\"mb-1\",children:[/*#__PURE__*/_jsx(CInputGroupPrepend,{children:/*#__PURE__*/_jsx(CInputGroupText,{children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-user\"})})}),/*#__PURE__*/_jsx(CInput,{type:\"text\",placeholder:\"Surname\",name:\"surname\",value:surnameValue,autoComplete:\"surname\",onChange:function onChange(e){if(e.target.value===''){setSurnameValue(\"\");document.getElementById('alert_empty_surname').style.opacity='1';}else{setSurnameValue(e.target.value);document.getElementById('alert_empty_surname').style.opacity='0';}}})]}),/*#__PURE__*/_jsx(CButton,{className:\"mr-1\",color:\"btn btn-outline-success\",alert:\"Save\",onClick:function onClick(){if(surnameValue){props.changeUserData({name:\"\",surname:surnameValue,password:\"\",id:JSON.parse(localStorage.getItem('id'))});setSurnameValue(\"\");}document.getElementById('update_alert').style.opacity='1';setTimeout(function(){document.getElementById('update_alert').style.opacity='0';},1500);},children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-check\"})}),/*#__PURE__*/_jsx(CButton,{color:\"btn btn-outline-danger\",children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-x\"})})]})}),/*#__PURE__*/_jsx(CCardHeader,{className:\"h5\",children:/*#__PURE__*/_jsx(CButton,{color:\"btn btn-outline-info\",onClick:function onClick(e){e.preventDefault();setPassword(!password);},children:\"Reset password\"})}),/*#__PURE__*/_jsx(CCollapse,{show:password,children:/*#__PURE__*/_jsx(CCardBody,{children:/*#__PURE__*/_jsxs(CForm,{children:[/*#__PURE__*/_jsxs(CInputGroup,{className:\"mb-1.5\",children:[/*#__PURE__*/_jsx(CInputGroupPrepend,{children:/*#__PURE__*/_jsx(CInputGroupText,{children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-lock-locked\"})})}),/*#__PURE__*/_jsx(CInput,{type:\"password\",placeholder:\"New Password\",name:\"password\",autoComplete:\"new-password\",id:\"new_password\",minLength:\"6\",onChange:function onChange(e){if(e.target.value.length>=6){setPasswordValue(e.target.value);}else{setPasswordValue(\"\");}}})]}),/*#__PURE__*/_jsx(CLabel,{className:\"alert-danger\",id:\"alert_repeated_incorrectly\",children:\"Repeated the password incorrectly\"}),/*#__PURE__*/_jsxs(CInputGroup,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(CInputGroupPrepend,{children:/*#__PURE__*/_jsx(CInputGroupText,{children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-lock-locked\"})})}),/*#__PURE__*/_jsx(CInput,{type:\"password\",placeholder:\"Repeat password\",name:\"password_repeat\",minLength:\"6\",id:\"password_repeat\",autoComplete:\"new-password\",onChange:function onChange(e){if(e.target.value.length>=6&&e.target.value===passwordValue){setRepeatPassword(e.target.value);document.getElementById('alert_repeated_incorrectly').style.opacity='0';}else if(e.target.value.length>=6){document.getElementById('alert_repeated_incorrectly').style.opacity='1';setRepeatPassword(\"\");}else{document.getElementById('alert_repeated_incorrectly').style.opacity='0';setRepeatPassword('');}}})]}),/*#__PURE__*/_jsx(CButton,{className:\"mr-1\",color:\"btn btn-outline-success\",alert:\"Save\",onClick:function onClick(){if(passwordValue===repeat_password){props.changeUserData({name:\"\",surname:\"\",password:repeat_password,id:JSON.parse(localStorage.getItem('id'))});console.log(passwordValue,' new');console.log(repeat_password,' repeat');setPasswordValue(\"\");setRepeatPassword(\"\");document.getElementById('password_repeat').value='';document.getElementById('new_password').value='';}document.getElementById('update_alert').style.opacity='1';setTimeout(function(){document.getElementById('update_alert').style.opacity='0';},1500);},children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-check\"})}),/*#__PURE__*/_jsx(CButton,{color:\"btn btn-outline-danger\",children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-x\"})})]})})})]})]});};export default Setting;","map":{"version":3,"sources":["/home/artur97/Diplomayin/client/src/views/users/Setting.js"],"names":["React","useState","CButton","CCard","CCardBody","CCollapse","CCardHeader","CAlert","CInputGroupPrepend","CInputGroupText","CInput","CInputGroup","CLabel","CForm","Header","CIcon","Setting","props","name","setName","surname","setSurname","password","setPassword","nameValue","setNameValue","surnameValue","setSurnameValue","passwordValue","setPasswordValue","repeat_password","setRepeatPassword","state","statusUpdate","e","preventDefault","target","value","document","getElementById","style","opacity","changeUserData","id","JSON","parse","localStorage","getItem","setTimeout","length","console","log"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport '../pages/register/Register.css'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCollapse,\n  CCardHeader,\n  CAlert, CInputGroupPrepend, CInputGroupText, CInput,\n  CInputGroup, CLabel, CForm\n} from '@coreui/react'\nimport Header from \"./Header\";\nimport CIcon from \"@coreui/icons-react\";\n\n\nconst Setting = (props) => {\n  // const history = useHistory();\n  const [name, setName] = useState(false)\n  const [surname, setSurname] = useState(false)\n  const [password, setPassword] = useState(false)\n\n  const [nameValue, setNameValue] = useState(\"\");\n  const [surnameValue, setSurnameValue] = useState(\"\");\n  const [passwordValue, setPasswordValue] = useState(\"\");\n  const [repeat_password, setRepeatPassword] = useState(\"\");\n\n  return (\n    <>\n      <Header state={props.state}/>\n\n      <CAlert className={props.state.statusUpdate ?\n        'alert-success w-50 m-auto text-center' : `alert-danger w-50 m-auto text-center`}\n              id='update_alert'>{props.state.statusUpdate ? \"Updated successful\" : \"Can not update\"}</CAlert>\n\n      <CCard>\n        <CCardHeader className='h5'>\n          <CButton\n            color=\"btn btn-outline-info\"\n            onClick={(e) => {\n              e.preventDefault()\n              setName(!name)\n            }}\n          >\n            Reset name\n          </CButton>\n        </CCardHeader>\n        <CCollapse show={name}>\n          <CCardBody>\n            <CLabel className='alert-danger'\n                    id='alert_empty_name'>\n              Can not be empty name\n            </CLabel>\n            <CInputGroup className=\"mb-1\">\n              <CInputGroupPrepend>\n                <CInputGroupText>\n                  <CIcon name=\"cil-user\"/>\n                </CInputGroupText>\n              </CInputGroupPrepend>\n              <CInput type=\"text\"\n                      placeholder=\"Name\"\n                      name='name'\n                      value={nameValue}\n                      autoComplete=\"name\"\n                      onChange={e => {\n                        if (e.target.value === '') {\n                          setNameValue(\"\");\n                          document.getElementById('alert_empty_name').style.opacity = '1';\n                        } else {\n                          setNameValue(e.target.value);\n                          document.getElementById('alert_empty_name').style.opacity = '0'\n                        }\n                      }}\n              />\n            </CInputGroup>\n            <CButton\n              className='mr-1'\n              color=\"btn btn-outline-success\"\n              alert='Save'\n              onClick={() => {\n                if (nameValue) {\n                  props.changeUserData({\n                    name: nameValue,\n                    surname: \"\",\n                    password: \"\",\n                    id: JSON.parse(localStorage.getItem('id'))\n                  })\n                  setNameValue(\"\");\n                }\n                document.getElementById('update_alert').style.opacity = '1';\n                setTimeout(() => {\n                  document.getElementById('update_alert').style.opacity = '0';\n                }, 1500)\n              }}\n            >\n              <CIcon name='cil-check'/>\n            </CButton>\n            <CButton\n              color=\"btn btn-outline-danger\"\n            >\n              <CIcon name='cil-x'/>\n            </CButton>\n          </CCardBody>\n        </CCollapse>\n        <CCardHeader className='h5'>\n          <CButton\n            color=\"btn btn-outline-info\"\n            onClick={(e) => {\n              e.preventDefault()\n              setSurname(!surname)\n            }}\n          >\n            Reset surname\n          </CButton>\n        </CCardHeader>\n        <CCollapse show={surname}>\n          <CCardBody>\n            <CLabel className='alert-danger'\n                    id='alert_empty_surname'>\n              Can not be empty surname\n            </CLabel>\n            <CInputGroup className=\"mb-1\">\n              <CInputGroupPrepend>\n                <CInputGroupText>\n                  <CIcon name=\"cil-user\"/>\n                </CInputGroupText>\n              </CInputGroupPrepend>\n              <CInput type=\"text\"\n                      placeholder=\"Surname\"\n                      name='surname'\n                      value={surnameValue}\n                      autoComplete=\"surname\"\n                      onChange={(e) => {\n                        if (e.target.value === '') {\n                          setSurnameValue(\"\");\n                          document.getElementById('alert_empty_surname').style.opacity = '1';\n                        } else {\n                          setSurnameValue(e.target.value);\n                          document.getElementById('alert_empty_surname').style.opacity = '0'\n                        }\n                      }}\n              />\n            </CInputGroup>\n            <CButton\n              className='mr-1'\n              color=\"btn btn-outline-success\"\n              alert='Save'\n              onClick={() => {\n                if (surnameValue) {\n                  props.changeUserData({\n                    name: \"\",\n                    surname: surnameValue,\n                    password: \"\",\n                    id: JSON.parse(localStorage.getItem('id'))\n                  })\n                  setSurnameValue(\"\");\n                }\n                document.getElementById('update_alert').style.opacity = '1';\n                setTimeout(() => {\n                  document.getElementById('update_alert').style.opacity = '0';\n                }, 1500)\n              }}\n            >\n              <CIcon name='cil-check'/>\n            </CButton>\n            <CButton\n              color=\"btn btn-outline-danger\"\n            >\n              <CIcon name='cil-x'/>\n            </CButton>\n          </CCardBody>\n        </CCollapse>\n        <CCardHeader className='h5'>\n          <CButton\n            color=\"btn btn-outline-info\"\n            onClick={(e) => {\n              e.preventDefault()\n              setPassword(!password)\n            }}\n          >\n            Reset password\n          </CButton>\n        </CCardHeader>\n        <CCollapse show={password}>\n          <CCardBody>\n            <CForm>\n              <CInputGroup className=\"mb-1.5\">\n                <CInputGroupPrepend>\n                  <CInputGroupText>\n                    <CIcon name=\"cil-lock-locked\"/>\n                  </CInputGroupText>\n                </CInputGroupPrepend>\n                <CInput type=\"password\"\n                        placeholder=\"New Password\" name='password'\n                        autoComplete=\"new-password\"\n                        id='new_password'\n                        minLength='6'\n                        onChange={e => {\n                          if (e.target.value.length >= 6) {\n                            setPasswordValue(e.target.value);\n                          } else {\n                            setPasswordValue(\"\");\n                          }\n                        }}\n                />\n              </CInputGroup>\n              <CLabel className='alert-danger'\n                      id='alert_repeated_incorrectly'>\n                Repeated the password incorrectly\n              </CLabel>\n              <CInputGroup className=\"mb-4\">\n                <CInputGroupPrepend>\n                  <CInputGroupText>\n                    <CIcon name=\"cil-lock-locked\"/>\n                  </CInputGroupText>\n                </CInputGroupPrepend>\n                <CInput type=\"password\"\n                        placeholder=\"Repeat password\"\n                        name='password_repeat'\n                        minLength='6'\n                        id='password_repeat'\n                        autoComplete=\"new-password\"\n                        onChange={e => {\n                          if (e.target.value.length >= 6 && e.target.value === passwordValue) {\n                            setRepeatPassword(e.target.value);\n                            document.getElementById('alert_repeated_incorrectly').style.opacity = '0';\n                          } else if (e.target.value.length >= 6) {\n                            document.getElementById('alert_repeated_incorrectly').style.opacity = '1';\n                            setRepeatPassword(\"\");\n                          } else {\n                            document.getElementById('alert_repeated_incorrectly').style.opacity = '0';\n                            setRepeatPassword('');\n                          }\n                        }}\n                />\n              </CInputGroup>\n              <CButton\n                className='mr-1'\n                color=\"btn btn-outline-success\"\n                alert='Save'\n                onClick={() => {\n                  if (passwordValue === repeat_password) {\n                    props.changeUserData({\n                      name: \"\",\n                      surname: \"\",\n                      password: repeat_password,\n                      id: JSON.parse(localStorage.getItem('id'))\n                    })\n                    console.log(passwordValue, ' new')\n                    console.log(repeat_password, ' repeat')\n                    setPasswordValue(\"\");\n                    setRepeatPassword(\"\");\n                    document.getElementById('password_repeat').value = '';\n                    document.getElementById('new_password').value = '';\n                  }\n                  document.getElementById('update_alert').style.opacity = '1';\n                  setTimeout(() => {\n                    document.getElementById('update_alert').style.opacity = '0';\n                  }, 1500)\n                }}\n              >\n                <CIcon name='cil-check'/>\n              </CButton>\n              <CButton\n                color=\"btn btn-outline-danger\"\n              >\n                <CIcon name='cil-x'/>\n              </CButton>\n            </CForm>\n          </CCardBody>\n        </CCollapse>\n      </CCard>\n    </>\n  )\n}\n\nexport default Setting;\n"]},"metadata":{},"sourceType":"module"}